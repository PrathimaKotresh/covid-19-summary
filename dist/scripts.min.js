var covid19Repository=function(){var t,e=[],a="https://api.covid19api.com/summary",o=$(".modal-body");function n(t){e.push(t)}function r(){var t=$(".loading"),e=$("<p>Loading Data...</p>");t.append(e)}function i(){$(".loading").empty()}return{add:n,getAll:function(){return e},addListItem:function(t,e){var a=$(".countryTableBody"),n="<tr><td>"+e.Country+"</td><td>"+e.TotalConfirmed+"</td><td><button type='button' class='btn bg-transparent btn-md moreDetailsButton"+t+"' data-toggle='modal' data-target='#moreDetailsModal'>Click</button></td></tr>";a.append(n),function(t,e){$(".moreDetailsButton"+t).on("click",function(){!function(t,e){o.empty();var a=$("<p>Country: "+e.Country+"</p>"),n=$("<p>Total confirmed: "+e.TotalConfirmed+"</p>"),r=$("<p>New confirmed: "+e.NewConfirmed+"</p>"),i=$("<p>Total Deaths: "+e.TotalDeaths+"</p>"),d=$("<p>New Deaths: "+e.NewDeaths+"</p>"),p=$("<p>Total Recovered: "+e.TotalRecovered+"</p>"),l=$("<p>New Recovered: "+e.NewRecovered+"</p>"),c=$("<img src='https://www.countryflags.io/"+e.CountryCode+"/flat/64.png'width='200' height='200' alt="+e.Country+">"),s=$("<p>Last updated:"+e.Date+"</p>");o.append(a),o.append(n),o.append(r),o.append(i),o.append(d),o.append(p),o.append(l),o.append(c),o.append(s)}(0,e)})}(t,e)},loadList:function(){return r(),$.ajax(a,{dataType:"json"}).then(function(e){var a;i(),t=e.Global,e.Countries.forEach(function(t){n({Country:t.Country,CountryCode:t.CountryCode,TotalConfirmed:t.TotalConfirmed,NewConfirmed:t.NewConfirmed,TotalDeaths:t.TotalDeaths,NewDeaths:t.NewDeaths,TotalRecovered:t.TotalRecovered,NewRecovered:t.NewRecovered,Date:t.Date})}),a=$(".globalFactsListGroup"),$(".globalFactsHeading").append("<tr><th>Global Quick Facts:</th></tr>"),$.each(t,function(t,e){a.append("<li class='list-group-item'>"+t+" : "+e+"</li>")}),$(".countryTableHeadline").append("<tr><th>Country Name</th><th>Total Cases</th><th>More Details</th></tr>")}).catch(function(){var t,e;i(),t=$(".error"),e=$("<p>Data not available at the moment! Please try again...</p>"),t.append(e)})},loadDetails:function(t){r();var e=t.detailsUrl;return fetch(e).then(function(t){return i(),t.json()}).catch(function(){i()})}}}();covid19Repository.loadList().then(function(){covid19Repository.getAll().forEach(function(t,e){covid19Repository.addListItem(e,t)})});var headerTitle=$("<h1 class='headerTitle'>COVID-19 Tracker</h1>");$(".header").prepend(headerTitle);var virusImage=$("<img src='./img/virus.png' class='virusImage' alt='image of corona virus'>");$(".work1").append(virusImage);
